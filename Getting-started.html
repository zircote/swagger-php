<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting started | Swagger-PHP v3.x</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="Generate interactive OpenAPI documentation for your RESTful API using doctrine annotations.">
    <link rel="preload" href="/swagger-php/assets/css/0.styles.ebd7a9b0.css" as="style"><link rel="preload" href="/swagger-php/assets/js/app.76a6c532.js" as="script"><link rel="preload" href="/swagger-php/assets/js/2.0805007a.js" as="script"><link rel="preload" href="/swagger-php/assets/js/6.b074339b.js" as="script"><link rel="prefetch" href="/swagger-php/assets/js/10.0da7148a.js"><link rel="prefetch" href="/swagger-php/assets/js/3.fa426e52.js"><link rel="prefetch" href="/swagger-php/assets/js/4.de937e4d.js"><link rel="prefetch" href="/swagger-php/assets/js/5.743f7abe.js"><link rel="prefetch" href="/swagger-php/assets/js/7.c2dbc3ca.js"><link rel="prefetch" href="/swagger-php/assets/js/8.7615ad48.js"><link rel="prefetch" href="/swagger-php/assets/js/9.e2f02473.js">
    <link rel="stylesheet" href="/swagger-php/assets/css/0.styles.ebd7a9b0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/swagger-php/" class="home-link router-link-active"><!----> <span class="site-name">Swagger-PHP v3.x</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/swagger-php/Getting-started.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://swagger.io/docs/specification/about/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenApi
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://swagger.io/specification/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Specification
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/zircote/swagger-php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/swagger-php/Getting-started.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://swagger.io/docs/specification/about/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenApi
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://swagger.io/specification/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Specification
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/zircote/swagger-php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Getting started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/swagger-php/Getting-started.html#installation" class="sidebar-link">Installation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/swagger-php/Getting-started.html#usage" class="sidebar-link">Usage</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/swagger-php/Getting-started.html#cli" class="sidebar-link">CLI</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/swagger-php/Getting-started.html#write-annotations" class="sidebar-link">Write annotations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swagger-php/Getting-started.html#using-variables" class="sidebar-link">Using variables</a></li><li class="sidebar-sub-header"><a href="/swagger-php/Getting-started.html#annotation-placement" class="sidebar-link">Annotation placement</a></li><li class="sidebar-sub-header"><a href="/swagger-php/Getting-started.html#arrays-and-objects" class="sidebar-link">Arrays and Objects</a></li><li class="sidebar-sub-header"><a href="/swagger-php/Getting-started.html#detects-values-based-on-context" class="sidebar-link">Detects values based on context</a></li><li class="sidebar-sub-header"><a href="/swagger-php/Getting-started.html#shortcuts" class="sidebar-link">Shortcuts</a></li></ul></li><li><a href="/swagger-php/Getting-started.html#reusing-annotations-ref" class="sidebar-link">Reusing annotations (ref)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/swagger-php/Getting-started.html#composition" class="sidebar-link">Composition</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/swagger-php/Getting-started.html#array-parameters-in-query" class="sidebar-link">Array parameters in query</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/swagger-php/Getting-started.html#vendor-extensions" class="sidebar-link">Vendor extensions</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/swagger-php/Getting-started.html#openapi" class="sidebar-link">OpenApi</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h1> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>We recommend adding swagger-php to your project with <a href="https://getcomposer.org" target="_blank" rel="noopener noreferrer">Composer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">composer</span> require zircote/swagger-php
</code></pre></div><h2 id="usage"><a href="#usage" class="header-anchor">#</a> Usage</h2> <p>Generate always-up-to-date documentation.</p> <div class="language-php extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br></div><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">require</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;vendor/autoload.php&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$openapi</span> <span class="token operator">=</span> \<span class="token package">OpenApi<span class="token punctuation">\</span>scan</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/path/to/project'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">header</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Content-Type: application/x-yaml'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$openapi</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toYaml</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>This will scan the php-files in the given folder(s), look for OpenApi annotations and output a json file.</p> <h2 id="cli"><a href="#cli" class="header-anchor">#</a> CLI</h2> <p>Instead of generating the documentation dynamically we also provide a command line interface.
This writes the documentation to a static json file.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./vendor/bin/openapi --help
</code></pre></div><p>For cli usage from anywhere install swagger-php globally and add the <code>~/.composer/vendor/bin</code> directory to the PATH in your environment.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">composer</span> global require zircote/swagger-php
</code></pre></div><h2 id="write-annotations"><a href="#write-annotations" class="header-anchor">#</a> Write annotations</h2> <p>The goal of swagger-php is to generate a openapi.json using phpdoc annotations.</p> <h4 id="when-you-write"><a href="#when-you-write" class="header-anchor">#</a> When you write:</h4> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @OA\Info(title=&quot;My First API&quot;, version=&quot;0.1&quot;)
 */</span>

<span class="token comment">/**
 * @OA\Get(
 *     path=&quot;/api/resource.json&quot;,
 *     @OA\Response(response=&quot;200&quot;, description=&quot;An example resource&quot;)
 * )
 */</span>
</code></pre></div><h4 id="swagger-php-will-generate"><a href="#swagger-php-will-generate" class="header-anchor">#</a> swagger-php will generate:</h4> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">openapi</span><span class="token punctuation">:</span> 3.0.0
<span class="token key atrule">info</span><span class="token punctuation">:</span>
  <span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">&quot;My First API&quot;</span>
  <span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;0.1&quot;</span>
<span class="token key atrule">paths</span><span class="token punctuation">:</span>
  <span class="token key atrule">/api/resource.json</span><span class="token punctuation">:</span>
    <span class="token key atrule">get</span><span class="token punctuation">:</span>
      <span class="token key atrule">responses</span><span class="token punctuation">:</span>
        <span class="token key atrule">&quot;200&quot;</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&quot;An example resource&quot;</span>
</code></pre></div><h3 id="using-variables"><a href="#using-variables" class="header-anchor">#</a> Using variables</h3> <p>You can use constants inside doctrine annotations.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;API_HOST&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token variable">$env</span> <span class="token operator">===</span> <span class="token double-quoted-string string">&quot;production&quot;</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token double-quoted-string string">&quot;example.com&quot;</span> <span class="token punctuation">:</span> <span class="token double-quoted-string string">&quot;localhost&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @OA\Server(url=API_HOST)
 */</span>
</code></pre></div><p>When you're using the CLI you'll need to include the php file with the constants using the <code>--bootstrap</code> options:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>openapi --bootstrap constants.php
</code></pre></div><h3 id="annotation-placement"><a href="#annotation-placement" class="header-anchor">#</a> Annotation placement</h3> <p>You shouldn't place all annotations inside one big @OA\OpenApi() annotation block, but scatter them throughout your codebase.
swagger-php will scan your project and merge all annotations into one @OA\OpenApi annotation.</p> <p>The big benefit swagger-php provides is that the documentation lives close to the code implementing the API.</p> <h3 id="arrays-and-objects"><a href="#arrays-and-objects" class="header-anchor">#</a> Arrays and Objects</h3> <p>Doctrine annotation supports arrays, but uses <code>{</code> and <code>}</code> instead of <code>[</code> and <code>]</code>.</p> <p>Doctrine also supports objects, which also use <code>{</code> and <code>}</code> and require the property names to be surrounded with <code>&quot;</code>.</p> <div class="custom-block warning"><p class="custom-block-title">DON'T WRITE</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @OA\Info(
 *   title=&quot;My first API&quot;,
 *   version=&quot;1.0.0&quot;,
 *   contact={
 *     &quot;email&quot;: &quot;support@example.com&quot;
 *   }
 * )
 */</span>
</code></pre></div></div> <p>This &quot;works&quot; but most objects have an annotation with the same name as the property, such as <code>@OA\Contact</code> for <code>contact</code>:</p> <div class="custom-block tip"><p class="custom-block-title">WRITE</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @OA\Info(
 *   title=&quot;My first API&quot;,
 *   version=&quot;1.0.0&quot;,
 *   @OA\Contact(
 *     email=&quot;support@example.com&quot;
 *   )
 * )
 */</span>
</code></pre></div></div> <p>This also adds validation, so when you misspell a property or forget a required property, it will trigger a PHP warning.
For example, if you write <code>emial=&quot;support@example.com&quot;</code>, swagger-php would generate a notice with <code>Unexpected field &quot;emial&quot; for @OA\Contact(), expecting &quot;name&quot;, &quot;email&quot;, ...</code></p> <p>Placing multiple annotations of the same type will result in an array of objects.
For objects, the key is defined by the field with the same name as the annotation: <code>response</code> in a <code>@OA\Response</code>, <code>property</code> in a <code>@OA\Property</code>, etc.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @OA\Get(
 *   path=&quot;/products&quot;,
 *   summary=&quot;list products&quot;,
 *   @OA\Response(
 *     response=200,
 *     description=&quot;A list with products&quot;
 *   ),
 *   @OA\Response(
 *     response=&quot;default&quot;,
 *     description=&quot;an &quot;&quot;unexpected&quot;&quot; error&quot;
 *   )
 * )
 */</span>
</code></pre></div><h4 id="results-in"><a href="#results-in" class="header-anchor">#</a> Results in:</h4> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">openapi</span><span class="token punctuation">:</span> 3.0.0
<span class="token key atrule">paths</span><span class="token punctuation">:</span>
  <span class="token key atrule">/products</span><span class="token punctuation">:</span>
    <span class="token key atrule">get</span><span class="token punctuation">:</span>
      <span class="token key atrule">summary</span><span class="token punctuation">:</span> <span class="token string">&quot;list products&quot;</span>
      <span class="token key atrule">responses</span><span class="token punctuation">:</span>
        <span class="token key atrule">&quot;200&quot;</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&quot;A list with products&quot;</span>
        <span class="token key atrule">default</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">'an &quot;unexpected&quot; error'</span>
</code></pre></div><h3 id="detects-values-based-on-context"><a href="#detects-values-based-on-context" class="header-anchor">#</a> Detects values based on context</h3> <p>swagger-php looks at the context of the comment which reduces duplication.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @OA\Schema()
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * The product name
     * @var string
     * @OA\Property()
     */</span>
    <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="results-in-2"><a href="#results-in-2" class="header-anchor">#</a> Results in:</h4> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">openapi</span><span class="token punctuation">:</span> 3.0.0
<span class="token key atrule">components</span><span class="token punctuation">:</span>
  <span class="token key atrule">schemas</span><span class="token punctuation">:</span>
    <span class="token key atrule">Product</span><span class="token punctuation">:</span>
      <span class="token key atrule">properties</span><span class="token punctuation">:</span>
        <span class="token key atrule">name</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&quot;The product name&quot;</span>
          <span class="token key atrule">type</span><span class="token punctuation">:</span> string
      <span class="token key atrule">type</span><span class="token punctuation">:</span> object
</code></pre></div><h4 id="as-if-you-d-written"><a href="#as-if-you-d-written" class="header-anchor">#</a> As if you'd written:</h4> <div class="language-php extra-class"><pre class="language-php"><code>    <span class="token comment">/**
     * The product name
     * @var string
     *
     * @OA\Property(
     *   property=&quot;name&quot;,
     *   type=&quot;string&quot;,
     *   description=&quot;The product name&quot;
     * )
     */</span>
    <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="shortcuts"><a href="#shortcuts" class="header-anchor">#</a> Shortcuts</h3> <h4 id="anotation-namespace"><a href="#anotation-namespace" class="header-anchor">#</a> Anotation namespace</h4> <p>Instead of writing the <abbr title="Full Qualified Class Name">FQCN</abbr>: <code>@OpenApi\Annotations\Response()</code> you can write the shorter <code>@OA\Response()</code> instead.</p> <p>This works because doctrine picks up on the use statements like:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">OpenApi<span class="token punctuation">\</span>Annotations</span> <span class="token keyword">as</span> <span class="token constant">OA</span><span class="token punctuation">;</span>
</code></pre></div><p>And swagger-php injects this namespace alias, even when it's not in the php file.<br>
But if your editor supports doctrine annotation completion, you still need to add the namespace alias otherwise it can't find the annotation classes for autocompletion.</p> <h4 id="json-or-xml"><a href="#json-or-xml" class="header-anchor">#</a> Json or Xml</h4> <p>The <code>@OA\MediaType</code> is used to describe the content:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @OA\Response(
 *     response=200,
 *     description=&quot;successful operation&quot;,
 *     @OA\MediaType(
 *         mediaType=&quot;application/json&quot;,
 *         @OA\Schema(ref=&quot;#/components/schemas/User&quot;),
 *     )
 * ),
 */</span>
</code></pre></div><p>But because most API requests and responses are JSON, the <code>@OA\JsonContent</code> allows you to write:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @OA\Response(
 *     response=200,
 *     description=&quot;successful operation&quot;,
 *     @OA\JsonContent(ref=&quot;#/components/schemas/User&quot;),
 * )
 */</span>
</code></pre></div><p>During processing the <code>@OA\JsonContent</code> unfolds to <code>@OA\MediaType( mediaType=&quot;application/json&quot;, @OA\Schema(</code>
and will generate the same output.</p> <p>On a similar note, you generally don't have to write a <code>@OA\PathItem</code> because this annotation will be generated based on the path in operation <code>@OA\Get</code>, <code>@OA\Post</code>, etc.</p> <h2 id="reusing-annotations-ref"><a href="#reusing-annotations-ref" class="header-anchor">#</a> Reusing annotations (ref)</h2> <p>It's common that multiple requests have some overlap in either the request or the response.
To keep things DRY (Don't Repeat Yourself) the specification includes referencing other parts of the JSON using <code>$ref</code>s</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @OA\Schema(
 *   schema=&quot;product_id&quot;,
 *   type=&quot;integer&quot;,
 *   format=&quot;int64&quot;,
 *   description=&quot;The unique identifier of a product in our catalog&quot;
 * )
 */</span>
</code></pre></div><h4 id="results-in-3"><a href="#results-in-3" class="header-anchor">#</a> Results in:</h4> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">openapi</span><span class="token punctuation">:</span> 3.0.0
<span class="token key atrule">components</span><span class="token punctuation">:</span>
  <span class="token key atrule">schemas</span><span class="token punctuation">:</span>
    <span class="token key atrule">product_id</span><span class="token punctuation">:</span>
      <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&quot;The unique identifier of a product in our catalog&quot;</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> integer
      <span class="token key atrule">format</span><span class="token punctuation">:</span> int64
</code></pre></div><p>This doesn't do anything by itself, but now you can reference this piece by its path in the JSON <code>#/components/schemas/product_id</code></p> <div class="language-php extra-class"><pre class="language-php"><code>    <span class="token comment">/**
     * @OA\Property(ref=&quot;#/components/schemas/product_id&quot;)
     */</span>
    <span class="token keyword">public</span> <span class="token variable">$id</span><span class="token punctuation">;</span>
</code></pre></div><p>For more tips on refs, browse through the <a href="https://github.com/zircote/swagger-php/tree/master/Examples/using-refs" target="_blank" rel="noopener noreferrer">using-refs example<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="composition"><a href="#composition" class="header-anchor">#</a> Composition</h2> <p>You can combine model definitions into new schema compositions with <a href="https://swagger.io/specification/#schemaComposition" target="_blank" rel="noopener noreferrer">allOf<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @OA\Schema(
 *   schema=&quot;UpdateItem&quot;,
 *   allOf={
 *     @OA\Schema(ref=&quot;#/components/schemas/NewItem&quot;),
 *     @OA\Schema(
 *       @OA\Property(property=&quot;id&quot;, type=&quot;integer&quot;),
 *       @OA\Property(property=&quot;created_at&quot;, ref=&quot;#/components/schemas/BaseModel/properties/createdAt&quot;)
 *     )
 *   }
 * )
 */</span>
</code></pre></div><p>More info in the <a href="https://swagger.io/docs/specification/data-models/inheritance-and-polymorphism/" target="_blank" rel="noopener noreferrer">Inheritance and Polymorphism<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> chapter.</p> <h2 id="array-parameters-in-query"><a href="#array-parameters-in-query" class="header-anchor">#</a> Array parameters in query</h2> <p>Depending on <a href="https://swagger.io/specification/#style-values" target="_blank" rel="noopener noreferrer">style-values<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <code>@OA\Parameter(in=&quot;query&quot;, name=&quot;param&quot;, ...)</code> might create urls like this: <code>path?param=123&amp;param=abc</code> which doesn't work when reading the param values in php.</p> <p>The solution is to change the name <code>param</code> into <code>param[]</code> which will create
<code>path?param[]=123&amp;param[]=abc</code> and results in an php array.</p> <h2 id="vendor-extensions"><a href="#vendor-extensions" class="header-anchor">#</a> Vendor extensions</h2> <p>The specification allows for <a href="http://swagger.io/specification/#vendorExtensions" target="_blank" rel="noopener noreferrer">custom properties<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as long as they start with &quot;x-&quot;. Therefore all swagger-php annotations have an <code>x</code> property which will unfold into &quot;x-&quot; properties.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @OA\Info(
 *   title=&quot;Example&quot;,
 *   version=&quot;1.0.0&quot;,
 *   x={
 *     &quot;some-name&quot;: &quot;a-value&quot;,
 *     &quot;another&quot;: 2,
 *     &quot;complex-type&quot;: {
 *       &quot;supported&quot;:{
 *         {&quot;version&quot;: &quot;1.0&quot;, &quot;level&quot;: &quot;baseapi&quot;},
 *         {&quot;version&quot;: &quot;2.1&quot;, &quot;level&quot;: &quot;fullapi&quot;},
 *       }
 *     }
 *   }
 * )
 */</span>
</code></pre></div><h4 id="results-in-4"><a href="#results-in-4" class="header-anchor">#</a> Results in:</h4> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">openapi</span><span class="token punctuation">:</span> 3.0.0
<span class="token key atrule">info</span><span class="token punctuation">:</span>
  <span class="token key atrule">title</span><span class="token punctuation">:</span> Example
  <span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">x-some-name</span><span class="token punctuation">:</span> a<span class="token punctuation">-</span>value
  <span class="token key atrule">x-another</span><span class="token punctuation">:</span> <span class="token number">2</span>
  <span class="token key atrule">x-complex-type</span><span class="token punctuation">:</span>
    <span class="token key atrule">supported</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;1.0&quot;</span>
        <span class="token key atrule">level</span><span class="token punctuation">:</span> baseapi
      <span class="token punctuation">-</span> <span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;2.1&quot;</span>
        <span class="token key atrule">level</span><span class="token punctuation">:</span> fullapi
</code></pre></div><p>The <a href="http://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-swagger-extensions.html" target="_blank" rel="noopener noreferrer">Amazon API Gateway<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for example, makes use of these.</p> <h2 id="openapi"><a href="#openapi" class="header-anchor">#</a> OpenApi</h2> <p>To learn about what you can generate, which options to use and how, look at the <a href="https://swagger.io/docs/" target="_blank" rel="noopener noreferrer">docs on swagger.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>It has sections about:</p> <ul><li><a href="https://swagger.io/docs/specification/basic-structure/" target="_blank" rel="noopener noreferrer">Basic structure<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://swagger.io/docs/specification/describing-parameters/" target="_blank" rel="noopener noreferrer">Describing parameters<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://swagger.io/docs/specification/describing-responses/" target="_blank" rel="noopener noreferrer">Describing responses<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>and <a href="https://swagger.io/docs/specification/about/" target="_blank" rel="noopener noreferrer">more<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>For more detailed information look at the <a href="http://swagger.io/specification/" target="_blank" rel="noopener noreferrer">OpenApi Specification<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/swagger-php/assets/js/app.76a6c532.js" defer></script><script src="/swagger-php/assets/js/2.0805007a.js" defer></script><script src="/swagger-php/assets/js/6.b074339b.js" defer></script>
  </body>
</html>
